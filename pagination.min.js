/**
 * @author clk<clk528@qq.com>
 * 翻页js插件。
 * nowPage  当前页
 * pageNum  总页数
 * pageAll  总条数
 * callback 回调函数
 * 使用方法:
 *   $("divID").Pagination({
 *      nowPage:1,
 *      pageNum:Math.ceil(total/10),
 *      pageAll:total,
 *      callback:function(selPage){
 *          console.log("当前选择的页:%d",selPage);
 *      }
 *   });
 */
!function(d){d.fn.Pagination=function(c){var e=d.extend(!0,{},d.fn.Pagination.defaultOptions,c);c=e.nowPage;var f=e.pageNum,g=e.showPage;if(!(1>=e.pageAll)){var b='<div class="h-pages clearfix"><ul class="pagination fr mt20">';1<=c-1&&(b+='<li><a class="prev" data-page="'+(c-1)+'"><img src="static/images/zuo.png"></a></li>');if(f>g)if(c<g)for(var a=1;a<=g;a++)a==c?b+='<li><span class="current">'+a+"</span></li>":b+='<li><a class="num" data-page="'+a+'">'+a+"</a></li>";else if(2<f-c)for(var h=c-2,a=h;a<h+g;a++)a==c?b+='<li><span class="current">'+a+"</span></li>":b+='<li><a class="num" data-page="'+a+'">'+a+"</a></li>";else for(a=f-(g-1);a<=f;a++)a==c?b+='<li><span class="current">'+a+"</span></li>":b+='<li><a class="num" data-page="'+a+'">'+a+"</a></li>";else for(a=1;a<=f;a++)a==c?b+='<li><span class="current">'+a+"</span></li>":b+='<li><a class="num" data-page="'+a+'">'+a+"</a></li>";c+1<=f&&(b+='<li><a class="next" data-page="'+(c+1)+'"><img src="static/images/you.png"></a></li>');b+="</ul></div>";d(this).html(b);d("a[data-page]").off("click").on("click",function(){d.isFunction(e.callback)&&e.callback.call(d(this),this.dataset.page)})}};d.fn.Pagination.defaultOptions={nowPage:1,pageNum:0,pageAll:0,showPage:5,callback:function(c){console.log(c)}}}(jQuery);
